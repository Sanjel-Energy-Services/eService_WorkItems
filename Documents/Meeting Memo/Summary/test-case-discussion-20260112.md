> 日期和时间： 2026-01-12 10:03:20
> 地点：[输入地点]
> 与会人员：[SPEAKER_00]
## 概述
本文档整合了多场关于软件开发和测试流程优化的会议纪要，核心内容围绕如何编写高质量、结构化的测试用例展开。会议通过分析“Schedule Blend Request”、“分配Bin”等具体功能，详细阐述了测试用例的设计原则，包括定义主干流程、扩展变种场景、处理集成测试和异常情况。此外，会议还讨论了当前开发与测试团队协作中存在的脱节问题，并对具体项目任务的执行情况、问题以及人员安排进行了明确。最终目标是建立一套标准化的流程，即先有业务流程图，再进行界面设计和用例编写，以提升开发效率和软件质量。
## 概述
- 本次会议主要评审和指导了测试用例（Test Case）的编写方法。会议通过一个具体的“Schedule Blend Request”功能实例，详细拆解了如何编写一个完整、清晰的主测试用例，强调了描述每一步操作及其预期结果的重要性。会议还讨论了测试过程中发现的系统问题，并指出了如何记录和提出这些问题。
- 本次会议主要围绕测试用例的质量和执行流程展开讨论。会议评审了“分配Bin”（Assign Bin）功能的测试用例，发现其中存在数据选择不当和逻辑问题。会议强调了编写高质量、主干清晰的测试用例的重要性，并指出了当前测试与开发团队之间存在的脱节问题。
- 本次会议讨论了如何为系统编写全面且结构化的测试用例。会议强调了首先识别和定义主要成功路径（主用例），然后在此基础上扩展出各种变种和异常场景。会议还详细分析了多个具体功能模块（如Tonnage Calculation, Schedule Product Hold）的测试要点、分支逻辑和集成测试注意事项。
- 本次会议主要讨论了系统中关于`blend`、`bin`、`program`及`call sheet`关联逻辑的技术细节。会议澄清了在`blend in bin`场景下不显示特定ID的原因，并明确了三种不同前提条件下的业务场景。最终，会议要求相关人员优先完成流程图和主要测试用例的编写工作。
- 本次会议主要讨论了如何优化软件开发与测试流程，特别是针对测试用例的编写方式。会议明确了应先建立完整的业务流程，再进行界面设计和用例编写，以确保逻辑的完整性。同时，会议还讨论了当前项目中存在的具体问题，如132号任务的执行情况，并对后续的工作进行了安排。
## 关键/主要议题
- **主测试用例（主干）的定义与重要性：**
  - 主测试用例应选择一个最理想、最常见的操作路径，完整地描述从头到尾的每一个步骤，没有任何错误或异常。
  - 这个主干用例是后续所有变种用例（如UI交互、异常场景）的基础，其他用例可以引用或复制其内容。
  - 主干用例需要详细描述每一步的操作和预期的系统反馈（Expected Result），而非仅仅关注最终的保存成功。
- **用例的层级结构：**
  - 一个大的功能点，如“Schedule Blend Request”，可以视为一个大的用例（Use Case）。
  - 由于该功能分布在不同应用中（如 Backup Board Bin 和 Rig Board），因此可以将其拆分为子用例进行设计和测试。
- **预期结果（Expected Result）的正确写法：**
  - 预期结果不应只写一个最终的数值，而应描述输出与输入之间的逻辑关系，以及输出的显示格式和状态。
  - 例如，应描述“Customer Name字段会根据输入的Program ID自动显示”，而不是写死一个具体的客户名称。
  - 这样做的好处是，当测试数据变化时，预期结果的描述依然有效，能够验证系统逻辑的正确性。
- **测试用例的详细步骤示例 (Schedule Blend Request):**
  1. **第一步：** 在Bin上点击右键，预期会弹出操作菜单。
  2. **第二步：** 点击菜单中的“Schedule Blend Request”，预期会弹出一个空的表单窗口。
     - 表单的初始状态应被描述：如Bin ID和Geo Plan会自动填充，其他字段为空或未选择。
  3. **第三步：** 输入Program ID（例如 `2523110.00`），预期系统会自动填充Customer Name，并填充Job Type的下拉列表。
  4. **第四步：** 从下拉列表中选择一个Job Type，预期Base Plan的下拉列表会被填充。
  5. **第五步：** 选择一个Base Plan，预期Blend Test等相关字段的值会发生变化。
  6. **后续步骤：** 依次输入其他数据（如数量），添加备注，最后点击保存。每一步都要描述其对应的界面变化和预期结果。
- 在测试PRG `2502293`时，系统未能正确显示Bin的容量（capacity），始终显示为零。
  - 数据库刷新后，该问题依然存在。初步判断这可能是一个系统bug，而不是特定于测试环境的问题。
- 该问题在Cloud版本中可能已经修改，但仍需进一步验证。
- 在为有多个POD的Bin进行分配时，系统应一次性处理所有POD的分配，而不是一次只分配一个POD。
- 用户需要为每一个POD命名并填写信息，所有POD信息填写完整后才能保存。如果只填写部分POD信息，系统应给出提示并阻止保存。
- **仓位（Po）分配逻辑**
  - 系统在分配仓位信息时，会明确标记哪些仓位已被占用。
  - 用户只能选择和使用未被占用的仓位。
- **`Blend in Bin`的ID显示问题**
  - 会议讨论了在`blend in bin`操作中，为何不像其他场景一样显示`batch request ID`。
  - **原因分析**：
    - `blend in bin`场景下，混合物可能来自多个源头，并非单一、确定的`batch request`。
    - 系统获取信息时，逻辑上虽然依赖`batch request`（通过`last product hold ID`），但因来源不唯一，所以在界面上不直接显示该ID，以免造成混淆。
    - 最终拉取物料与`call sheet`（作业）关联，是为了后续的成本核算和客户计费，但这不代表它们是同一批次搅拌的。
- **`Call Sheet`选择的三种场景**
  - 系统根据创建请求的来源，定义了三种不同的`call sheet`选择逻辑。
  - **场景一：从`Call Sheet`创建**
    - 如果请求是从一个已有的`call sheet`创建的，那么该`call sheet`字段将被锁定，用户不可更改。
  - **场景二：从`Program`创建**
    - 如果请求是从一个`program`创建的，系统会提供一个`call sheet`列表供用户选择。
    - 系统通过`program ID`可以找到所有使用相同`blend`的关联`call sheet`。
  - **场景三：拖拽`Blend`的场景**
    - 当用户直接从一个具有明确`batch request ID`的源头拖拽`blend`时，ID是确定的。
    - 目前EC方案中，这一场景和`blend in bin`场景被设计为两个独立的页面，未来可能会合并为一个。
- **132号任务（Haul Plan）的问题**：
  - 张院绘制的图遗漏了很多信息，其任务信息来源和需求不明确。
  - 检查其编写的用例后，发现存在问题，如将数值设为“零”导致逻辑错误，且用例没有完整描述所有情况。
  - 鉴于张院在132号任务上剩余时间不足（仅3小时）且代码实现混乱，该任务将不再由她负责。
- **新的人员安排**：
  - 宝红将投入进来负责132号任务（Schedule/Reschedule）。
  - 陶秋峰也已加入，参与代码审查（Code Review）和后续开发工作。
- **143号和158号任务**：
  - 任务已提交，但存在字段不对的问题，需要返工。
  - 要求测试人员清晰地向开发人员报告问题，明确哪个测试用例在哪一步出错，并要求开发人员反馈修改所需的评估时间。
## 测试前提条件与问题发现
- **明确前提条件：**
  - 编写测试用例时，必须明确其执行所需的前提条件。
  - 例如，测试“Schedule Blend Request”功能的前提是，所选的Bin必须已经设置了容量（Capacity）。
  - 如果前提条件不满足（如Bin没有容量），则无法正常执行测试，这本身可能就是一个需要记录的问题。
- **发现并记录问题：**
  - 在测试过程中，分析师需要具备发现问题的能力，对不符合预期的现象保持敏感。
  - 一旦发现问题，应立即记录下来并提交（如在GitHub中Log一个Issue），以便团队评审和跟进。
- **会议中发现的具体问题：**
  1. **Bin容量未知：** 在执行分配时，如果一个Bin没有预设容量，会导致后续操作（如检查是否超载）失败。这是一个主数据设置问题。
  2. **UI信息展示不全：** 鼠标悬停在Bin上时，弹出的信息框不显示该Bin的总容量，导致用户无法判断剩余空间。
  3. **数据显示格式不一致：** 在某个界面上，一个数值（Quality）显示为五位小数（22.78125），而系统其他地方通常为三位小数。
## 测试用例设计原则与编写规范
- **用例质量不高**：当前编写的测试用例质量有待提高。开发人员（如宝红）反馈他们通常不参考现有的测试用例，导致测试和开发工作脱节。测试人员认为正确的标准与开发人员的理解不一致。
- **数据选择问题**：测试人员在选择测试数据时，选取了不适用于存储功能的“搅拌机”（blended train）数据，这是一个最坏的数据选择。
  - 应当在现有系统中寻找真实、干净的数据进行测试，例如从一个空的、未被使用的Bin（如cell五）开始。
- **用例编写规范**：
  - **明确主干流程**：每个功能应先编写一个清晰、无分支的主干测试用例（happy path）。例如，先测试分配单个POD的Bin。
  - **衍生场景作为变种**：对于多POD、数据校验（validation）等复杂场景，应作为主用例的变种来编写。在用例中引用主用例的前置步骤（如步骤1-8），然后只描述差异化的部分。
  - **明确验证点**：用例需要明确验证步骤，例如，当一个Bin有3个POD时，系统应自动显示3个POD的信息栏，并要求用户填写所有POD信息后才能保存。
  - **简化不必要的场景**：“取消”（Cancel）操作是通用行为，代表“不做了”，不应作为独立的测试场景写入用例中。
- **反馈与协作流程**：
  - 测试人员应基于写好的用例进行测试，并在发现问题时，将带有明确失败步骤标记的用例提供给开发人员。
  - 在缺陷报告（ticket）中，可以附上对失败原因的初步分析，帮助开发人员快速定位问题。
- **主用例先行**：首先应识别并跑通一个最基本、最顺畅的成功路径作为主测试用例。
  - 例如，一个基础的排班请求（schedule a request）从创建到成功保存并显示数据的完整流程。
- **基于主用例扩展变种**：在主用例的基础上，通过改变特定条件来创建变种测试用例。
  - 例如，将计算基准从 `base` 改为 `total time`，并验证其计算和保存逻辑。
- **独立测试特定功能**：对于UI交互等局部功能，可以创建专门的小型测试用例，无需执行完整的保存流程。
  - 例如，专门测试 `total tonnage calculation` 在不同选项间切换时的正确性。
- **覆盖所有可能性**：最终目标是设计最少数量的测试用例来覆盖所有可能的功能路径和组合。
  - 建议使用流程图，并通过不同颜色的线条标记每个测试用例覆盖的路径，确保所有节点和分支都被测试到。
- **流程优先于界面设计**：会议强调，正确的步骤是先建立完整的业务流程图，涵盖所有分支情况，然后系统分析员和UI设计师再根据流程进行界面设计。
- **界面设计是流程的聚合**：界面设计应将分析阶段拆解开的各种情况进行整合与复用，形成统一的界面，并通过用户交互（如点击）来触发不同的流程分支。
- **UI导航与流程图的一致性**：UI设计师（如使用Figma）绘制的UI导航流程图，本质上是业务流程图的另一种表达方式，两者应保持一致。
- **简化后的项目流程**：在当前项目中，流程被简化为：根据需求画出流程图，然后直接交付开发。对于新界面，将基于所有已定义的测试用例（Test Case）和场景进行讨论和设计。
- **避免冗长的文字描述**：测试用例不应有过多的文字描述，而应聚焦于键值对形式的数据，清晰说明每个数据项的名称和值。
- **基于用例进行测试**：测试应依据预定义的用例（Use Case）进行，而不是孤立地测试某个界面交互行为。每个用例都包含了特定的前置条件（Precondition）和操作步骤。
- **清晰描述失败场景**：当测试用例失败时，需要明确指出是哪个用例、哪一步出错了，并提供证据。例如，点击某个按钮后，相关字段未按预期消失。
- **关联数据与操作**：界面上的单个操作可能与前面的数据相关联，因此必须先描述清楚完整的业务流程，才能准确定义该操作的测试场景。
- **使用Post-condition关联后续验证**：一个操作（如保存）成功后，其后续的验证步骤（Post-condition）可以链接到其他独立的测试用例。
  - 例如，保存成功后，需要验证三个方面：
    1. 数据在数据网格（Data Grid）中的显示是否正确。
    2. 相关菜单（Menu）的显示是否正确。
    3. 打印（Print）结果是否正确。
  - 这种方式可以避免在同一个用例中重复编写详细的验证步骤。
- **通过复制和修改提高效率**：在编写多个关联场景的用例时，可以先完成主场景的编写，然后通过复制和修改差异部分来快速创建其他分支场景。
## 集成测试用例
- 当一个功能流程触发了另一个模块的功能时，应将其视为一个集成测试场景。
- **示例：带Test标志的排班**
  - 如果一个排班请求被标记为需要测试（`test`），它可能会触发创建 `test requirement` 的流程。
  - 这个后续流程超出了排班请求本身的范围，属于与实验室（Lab）应用的集成。
  - 主用例中只需说明会触发此流程，然后可以链接到一个独立的集成测试用例，该用例详细描述创建 `test requirement` 及其后续验证步骤。
## "Schedule Product Hold" 功能的测试场景分析
- **识别入口场景**：该功能有两个主要入口，分别是 `blend in bin` 和 `schedule the blend request`。
- **定义主干流程**：
  - 主流程假设 `call sheet list` 不为空。
  - 选择 `call sheet number` 后，系统应自动填充客户（customer）和钻井平台（rig）信息。
  - 系统会显示该 rig 下所有可用的 bin 及其状态和可卸载重量。
  - 用户完成时间、卡车人员（crew）选择和装载量等信息的填写后，成功保存。
- **识别变种与分支逻辑**：
  - **Haul All**：测试一键拉走全部物料的功能。
  - **Go with Crew**：选择此项后，bin 的信息会消失，行程时间等字段将变为不可用，因为行程由泵车队决定。
  - **Load to Existing Haul**：将当前任务附加到已有的运输任务上，部分信息会继承自现有任务。
  - **Third Party**：标记为第三方运输，这会影响可选的运输列表和后续逻辑。
  - **手动输入数量**：当不选择 `Haul All` 时，需要手动输入运输量，并验证相关字段的计算逻辑（如多个 bin 的卸载量之和应等于总运输量）。
## 反向测试与异常处理
- 测试用例不仅要覆盖正向成功路径，也需要包含反向测试和异常场景。
- **示例：Rig没有Bin**
  - **场景**：用户选择了一个没有关联 `bin` 的 `rig`，并且没有其他可用的卸货目的地（如 `Go with Crew`）。
  - **预期行为**：系统应阻止保存操作，并提示用户缺少必要信息（如“无法排班，因为rig没有bin”），因为目的地不明确。
  - 此场景验证了系统的业务规则和限制，确保不完整的数据无法进入下一步流程。
## 待处理/待解决问题与风险
- **功能依赖风险：** “Schedule Blend Request”功能的测试依赖于Bin的主数据已正确设置（如容量）。如果数据准备不充分，将阻碍该功能的测试。
- **问题归属待明确：** Bin没有容量是属于数据准备问题，还是系统应提供创建时设置容量的流程，需要进一步讨论和明确。
- **团队协作脱节**：测试用例的质量问题导致开发团队不予采信，测试与开发之间缺乏统一的标准和有效的沟通，存在各自为政的风险。
- **功能逻辑不清**：在为Bin分配容量时，系统没有对容量为零的情况进行校验，这可能是一个需要修复的逻辑漏洞。
- **测试用例覆盖不全**：当前测试用例对于多POD场景、数据验证场景的覆盖不足，需要补充和完善。
- 张院是否已按照昨晚的要求去画界面，以及任务状态是否已在系统中更新，目前情况不明。
- 132号任务的代码实现混乱，可能需要投入额外精力进行重构和修复。
## 行动项
- [ ] 将会议中发现的系统问题（Bin容量未显示、数据显示格式不一致等）记录到GitHub中，供团队评审。
- [ ] 检查并确认“分配Bin”功能中容量显示为零的问题是否为系统bug。如果Cloud版本未修复，需要记录并提交一个bug报告。
- [ ] 整理并重写“分配Bin”功能的测试用例（test case），确保逻辑清晰、数据选择正确。
- [ ] 梳理并画出`hold blend`相关的业务流程图。
- [ ] 基于流程图，定义并写出所有相关的测试用例（Test Case）。
- [ ] 优先完成主干流程的第一个测试用例编写，并提交审查。
- [ ] 在主干测试用例完成后，再补充其他分支场景的测试用例。
- [ ] 在接下来的两天里，投入尽可能多的时间来推进并完成这项工作，不受限于每天四小时。
- [ ] 尽快将132号任务（Haul Plan）的主流程测试用例按照会议讨论的规范编写出来。
- [ ] 检查143号和158号任务的提交，向开发人员明确反馈测试失败的用例和具体步骤。
- [ ] 将测试用例（Test Case）添加到项目文档中。

> **AI建议**
> AI识别出本次会议中部分议题未形成结论或缺少明确的行动项，请相关负责人关注：
> 1. **研发与测试团队协作流程断裂，工作标准不统一，存在项目质量风险。** 目前研发团队不信任或不使用测试团队编写的用例，导致双方标准不一、重复工作，形成各自为战的局面。会议虽提出需建立标准化的端到端工作流（从业务流程图开始），但并未明确由谁牵头制定此流程、如何确保团队全员采纳，以及具体完成的时间节点。此问题若不解决，将持续影响产品质量和团队效率。
> 2. **核心功能测试用例质量低下且覆盖不全，直接影响产品稳定性。** 当前用例存在逻辑不清、测试数据不当（如用“搅拌机”测试仓储功能）等问题，且未能覆盖关键业务场景。会议要求重写“分配货位”和“计划产品预留”等关键功能的用例，并补充正向、逆向及异常场景，但未明确指定具体负责人、完成时限和评审机制。同时，“预留调合”功能的业务流程图也未确定负责人和交付日期，导致相关测试工作无法系统性开展。
> 3. **任务132（运输计划/排程）存在重大交付风险。** 该任务现有代码逻辑混乱，初期分析和测试用例存在严重缺陷。虽然任务已被重新分配，但由于其复杂性和前期遗留问题，可能需要大量时间和精力进行重构和补救，对项目整体进度构成威胁。目前缺乏对该任务重构范围、所需资源和新时间表的明确评估和规划。
> 4. **关键系统缺陷和数据问题未明确处理路径。** 会议中识别出多个具体问题，如“分配货位”时容量显示为零、系统缺少对零容量货位的校验逻辑、界面UI和数据显示格式不一致等。这些问题虽被提及，但并未明确指派负责人去跟进排查根源（是主数据问题还是系统Bug），也未确定是否已录入缺陷跟踪系统，以及修复的优先级和排期。
> 5. **项目主数据准备不足，阻碍关键功能测试。** “计划调合请求”功能的测试工作严重依赖正确配置的主数据（如货位容量）。当前主数据准备不充分，将直接导致相关测试工作停滞，造成项目延期。会议未明确由谁负责协调并确保所需的测试主数据在测试开始前准备就绪。